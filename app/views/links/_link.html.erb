<li class="flex flex-col p-8 pb-2" id="<%= dom_id link %>">
  <div class="flex justify-between items-center">
    <%= link_to redirect_url(token: link.token), redirect_url(token: link.token), target: :_blank, class: 'proxy-link' %>
    <div>
      <span class="flex px-2 py-1 bg-yellow-400 rounded text-black" title="visits"><%= link.redirect_count %></span>
    </div>
  </div>

  <div class="flex text-sm text-slate-500 justify-between">
    <div class="text-slate-400">
      <%= link.target %>
    </div>
    <div class="text-slate-400">
      <%= link.decorate.display_expires_at %>
    </div>
  </div>

  <div data-controller="collapsible">
    <div data-collapsible-target="collapsible" class="mt-2">
      <%= button_to t('shared.actions.delete'), link_path(link), method: :delete, form: { 'data-turbo-confirm': 'Do you really want to delete this?' }, class: 'dangerous-button' %>
    </div>

    <div data-collapsible-target="togglers" class="hidden text-slate-600 hover:text-slate-200">
      <%= button_tag 'data-action': 'collapsible#close', 'data-collapsible-target': 'closeButton', class: 'w-full py-2 flex items-center justify-between' do %>
        <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" />
        </svg>
      <% end %>

      <%= button_tag 'data-action': 'collapsible#open', 'data-collapsible-target': 'openButton', class: 'w-full py-1 flex mx-auto' do %>
        <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
        </svg>
      <% end %>
    </div>
  </div>
</li>
